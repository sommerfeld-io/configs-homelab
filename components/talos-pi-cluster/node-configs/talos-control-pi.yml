---
version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: j4accj.3uzu4bfaxzwps8cp
  # The root certificate authority of the PKI.
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEFvUFppSDNiTHRzbWt1bEdQSDFtNFFNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5ERXlNRGt5TVRBeE1EQmFGdzB6TkRFeU1EY3lNVEF4TURCYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBU0o2YmJTMWxlbVlUb1hBQW9UQ3F3WlFaYmRZajd0cDBrUFdvCmI2bGtIYVNqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVZDdlcFdEbFJCdkgzWHE5VworNFRadzlMRFo3VXdCUVlESzJWd0EwRUFZT1cybWZZU0VkRWQ4cWxmSDhHRTFDdnkyeklaU0VXQ2xPTWsyK2tlCjQ1M3hWWTVnUS9XeUxtaWdVVGd2OVdGMndtK1hUbTlqTVZDMEU4dDFvQ1ZVRHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJQm5xNHF5OFBaVjZuK0dQeUJhS3ZFdGpGOEU0Q0Rsei9EQVZKRTNjU0NleQotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs: []
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.31.2
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
  network:
    hostname: talos-control-pi
  install:
    disk: /dev/mmcblk0 # The disk used for installations.
    image: ghcr.io/siderolabs/installer:v1.8.3
    wipe: false # Indicates if the installation disk should be wiped at installation time.
  registries: {}
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: XOcLxUzE6zZ9YFuVAkDMDEltC0b-wZpZTRkl6csrxps=
  secret: oiBj/ALsefZNYGqdTZqDKKfAROEuqoAVrzpZvhdmCJw=
  controlPlane:
    endpoint: https://talos-control-pi.fritz.box:6443
  clusterName: talos-pi-cluster
  network:
    dnsDomain: cluster.local
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
  token: icrx08.k2d8iafynkkeyb4n
  secretboxEncryptionSecret: NNPSCt6OLfLZfMckvt6mLuKLp0ENTh3oLUB9N/3J1TI=
  # The base64 encoded root certificate authority used by Kubernetes.
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpakNDQVMrZ0F3SUJBZ0lRVEpKSjFodkFhc0lEQUpmVHpQSXhkakFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTBNVEl3T1RJeE1ERXdNRm9YRFRNME1USXdOekl4TURFdwpNRm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCTDlNcExmKzF6YmVYR3JXWjc2UUpYWXRIN1FaNTJSK1JXUi9kamlNUHlGR0FXb3k3eDVONEo1M3JHUEoKNVR3RzNib2FhanhYZVpLTDBXYVZpNms2eGhtallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVIK3FONG1ubUhBa053Q1RLQUxVdkcxNFlVYm93Q2dZSUtvWkl6ajBFQXdJRFNRQXdSZ0loQUowblYydmgKTVlyTXdUYnJlSHVnblhxeGRDd1M2d2FmMWMwWnYrNEVKQi9lQWlFQTQ3em94YWpsa05CWkxqSVJ3M0FSeUxoTwpDb2hYcnFLV25FbGlnNU45YUVnPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU5aTG50eXU1NUQ3eU1kZEt0K0t4TUlheWQzRTRXY1drTzhDKzRWNHh1UlZvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFdjB5a3QvN1hOdDVjYXRabnZwQWxkaTBmdEJublpINUZaSDkyT0l3L0lVWUJhakx2SGszZwpubmVzWThubFBBYmR1aHBxUEZkNWtvdlJacFdMcVRyR0dRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYekNDQVFXZ0F3SUJBZ0lRZGU5VUpvaWhGdUhzWG52QXNIZ1FZVEFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1USXdPVEl4TURFd01Gb1hEVE0wTVRJd056SXhNREV3TUZvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCSWIrYjE3ZUh0UHpvcDhYZzZlb0xvM0N3dC9NMVZ1L1R3d2cyNUxtQnpXMmFZVHBNa3BYCk12SE44ZGNtRVJWeHZIU1ovckxKTmpjTTFvMXFMenFjUENDallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVV1eWpGMUNMM3dtYnBKK1NSTk96ZHMxVjg3UkV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUlnCldVdXgyc3hKZWJ2emZIYkk2aGoyR0RLU29mK1NNQndiZjlxUExtTDdCNnNDSVFDSnlaQmJ0dVFkQXBsOXBYeVIKT29jWVEvK1JwNEp4RUhzZHo4OVB0TE5xOFE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUNDc0NqbldhaSsvZEMyUlk3UzNCcW92RmVtcWJKQU05VjBQSnRaenpTc0hvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFaHY1dlh0NGUwL09pbnhlRHA2Z3VqY0xDMzh6Vlc3OVBEQ0Ria3VZSE5iWnBoT2t5U2xjeQo4YzN4MXlZUkZYRzhkSm4rc3NrMk53eldqV292T3B3OElBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  # The base64 encoded private key for service account token generation.
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBcVpJWTQ3bXh0OTY2YmRza0kzcjFPM20wdy93dDFnV3czTGE1MzVsRjR4TVYxSVVmCk5Bb1ZBb1pWYmZrWUl4eC9EY1RXM24zemFGcmoxKzFjN1ZROXhTK09OL1JHWU9hZFNGbDdJcXBsU1dsZ3JFbFkKbnRENVNsVWFZeWVjeDBYRzR2aDEwR0xRN3ZKQzJSejltenBwQm5IZWlZdytqVURZbVJMNG5tSWZnTk9OQ20wZApnQzQxN0ZIZFlocTlaMmpNYkFtbVNhRzhoM2RHcXRxMDFYdEJLMllsSVlpbEozZHFjbUdaR2QrK2hqSm9nejBQCnpUQjZvckZ0b1ZKVVQ0aVg0cW1QS2hGRW9JZFEzWS9LS0JhUk4rcjhDNHE3RVRGNVExTWZKeXdyNS80a2daaCsKei9aWFc2YXJJUjlxVkg4dDJtMUpEVTlMVXcxVVYzbnhWUnRGVGlmekVRUGszSS9IeUtpcEM1NlR0VEErSFhidApQam5IbGl4WVFuL2wzU08raERRWWRRTXoyVFF4QkV0emNDcC9hMCtXUVJuU05sSno0K0tpSmFDeEpvSGh0TWhJClFSWC9oK0tzT3FZZzRmZndVM1V4SHRRNE9sNVcrQ2NCUDNXbWUvckNXRkJHNklNV0xwN2t3RFFUc1dSdzM1d2gKOGJ4OVUzekZucGNkNkp2VmFGUVBpOTF0TmJqb0FIK0xhYWE1N2RoSmZ2YlVYbGVCSndVUEYxL3NaNHlPbmxkegp3NmNKakVEVEJmcGthZlRLUjVWNWJGMjhhdWE3NytqY3F1Zll1c0FweGhlNzNRVDdnUFljemJ5WFkyaXh6SkNVCmVmS0E5Q05FcW41MGtQNkkzek5FQ1Q0UzZDaFg0RGg5aTNTRXBucE9rYzRHWW04ZThjMDdrbnBWbEQwQ0F3RUEKQVFLQ0FnQkh1N0lqdzg1V2hqWS9ldERTNFpVVVQrd1ViSDNIYUNqbGRiY3p5OWN3dEVZcjNSVFNJdUc0YTdPQQpEandUdmw1UktNL3MxME05QmhZVXBpa0ZqUG1FalJXUXZobDNySmNrb0JYakdFbzR3QWRSV3NYT2lZQ3IzVXlJClhaMkkvdytmdkpPNlQ5TXJBZmtkZDVJaE5KaHhUWUppbFoxd2k5b1ZCMTE5UXUwb3hsV0g3NWpuUEtVN0QzYWoKcGNReUZyZERqT0YzaktBQWZvaTZoa0t4Zks2WStXRUR5cFp6RjZWRU5kMWFnTGhNZE02WmxoODFJaWorNGlnSwpjcFdQLzZ5aENqR3lEaFFHQkxoRXdpczJ3alUwZm9lWktscndid2xwWGFSMEljK0JHSlhBN1EzWVU5R294OXprCjZqRkZCWGdVU3Q3NGJtN2k5MlNTak5kMnRVNmZqSzZuQ3FidnNvNEMvY3BURVkwMllFR3A0WjBwV2RYRXYrVFQKZFVQaGhpcjlzUzJxY2JlbzB2bFVpdFptRUR5QWpVanVwQ2MzdjdnOUNzbThYQ2pXVXJmdmFxT1FHU1FCcTdZZQpwMjh1UDh4L1VnNFVXeGxnNlI4a0RIaUVURUlvT0xIWDZybUJIK2UxeWdKZjZGV2dSV0lIUzhDS1AwRGpwM3BWClY1aFhHT2F6ZEptSFVqeUJpRURwcEJKT2ZVUG95Z0pyNm5iNzA1SGF6S2NGMVl0VDJsWWJtRTZsUUQ1dHM1N3UKNFlWTlZxUGttTTU5U1dPS2V5UlhMRm5qdkV1SzVldVQ1SlI3ckVQaEI0YTkwVzNxMHczR2t1NXkrSENmNWw2VApXVUYxWWs3QUM2REo4alk4RURIVUpSVXdtUU80cDZROGVmMTE5TGFSTUpuWUFjTFlBUUtDQVFFQXdhalVueGJWCmx3My91bnBlejl5eHoyTjg0dWxFQXNHbUlaYm1wQS82Z2t4Rmk3KzNwUkk4REJUdHVtNUZpekc0SkZjUzFPNlMKSUFrTGhMbFZ1aHhpa3RXQlVndGRxRWtsNitlRUFJc09JdGJUZyt0OXdjWnpaSDZFOTczOGdSYnpZSXd1dEJkYgpEQ0V6QzZTaTd4Z1JGczE1WGdqRWtEMGhkYnpsTGhLYmlrS2QvdjFMYjBlTVkwbFgzRE1aUVM4ZERWNS9qR1UwCi94a2FlQUFRaU1xeXRVQ3NSNVA4ZXF0NWlFemZvM0ZvRFlmbTlkTUllNUorY0dPK1hBR05QTGRHcERxZ0dMalkKdzJTL1pGcUhqcGxqU0wzK3FDMjdNY0I2UHBlOUVzSFgrd3graXFpSmpWVmQwTldUeld6dE1DUWVGSHEzUDljcwo3ZndLbThGY1UyczJ2UUtDQVFFQTRDZ2xvU09mUGkrRllJODNiWFlMVjhSN3I3Qm00M0krNGt2ZmVrSUxLcnNWCk51TCtLSVM1cnZweHdqcGgybnpKRGlDL0hzRXVkTlBZaGdoYzV5azVJbDMrVXlpVjVQbnBhTGRsRkRDdXVMNmwKaE8xZU5UaS9yVFF2MnRLc3ppbDU4eGlsT2w0T1NGK2pCbUI5TS9FRkpYZlluWXFNelFDSFdGa0R0TzViRGtVQQpPa2l5QWxWK3ZhVCtnUWhKd0pEdGpEVnhJY3JRZEhZL1VHNUNxNjlONHV2S1FwcFRLMHlmSVhPeUl1ZktJWnNqCitCVCtJSk8rdjQvQ2x1M3p3M0RmVWNObWFRTmlOcFlVVDNZMkplZmZyN3lianVXc3hvM3grdG5UUENlWlppT3MKZHhzcm1QUEhGQXdhREZtV1Y3RC85c0VXNHpFcXhlZko2VDJPelFacmdRS0NBUUFNVllKbE40RVhBODg3d3p0eQpwYTIxZGJLb2lRN0oxaWVNa0IzVWFTZ2RVRnBGa2twUit4MVQ3NmxNYkdXRmZmOHFZVmxUc25ZZ0VETnBtcHc1CkpFR3E5R291SFljemhxVWhwemNqQ2JnMnc5UG8zUUMvYkxKQXZrWWR1VDN4d3RKeFhieER3QkVPYnJiZmtQYkgKbjVMSER3TWgyQkVjMXFmZzVjejY2RGg3ejg1Y1JTbWV4c0hNT1FtZGZxdW5HU2NTaU9nNnV0OXJOK0FWc0h0ZApHdnZTeTNHdGhXRlpOcjZnemJTWXBrcG9RaldWaG9GTnpZQzhDNzQrQWVOSzhLbFJJR0s5OEZmdDZlYStyMzFlCnVhbzNJZEtzUjIxYXQ5V1JVdnk1eXhyRVpJRlN0M1U3U1NxV2VHUFhlNDZIdUdVcURMN0xGQnRLZFBqLy9vcXcKelcxSkFvSUJBUUNsbVFNenFEMWNrMzdWZHZoYnhYbGJ2YXdpZncrRHVFTDhxMURONFR5ZXROZFhWUnF1bEY4WgpCYXhFOFJ5WmJOYWJ1VlY0UXY4dkQ5SkdNcWR2bnVTMm52bmtOWGVIVVprOTR6NnBTODNJYmcrWnhFSjB6eGZMCnZXSWRKc2JEQjZFd0ZtVDZXY0h6ZGJQYVlpNGMwVkliL0EzclZRL3Y0eFFhRUtqTVljcWpJQmFxK0VtSnI5K1IKK3ZLS0lMVmJyYlhRZnlxMDdFQlR5WWU4dzdnOVhhVU1uMlV0RHhXaVIxaklQZEM4T01EN1VzR2Y1T0pZN3MxYwpkN2dxQ0dDdFloV1pNZUhXY3NsN3lpUDNFRDJ3Z3p5ZGQ1ajBXSGpydHJHdHdINXRVbFBoUVRtSVJHcFE5TWQ5CjUvTFdiTmpFcjk1cFRQeTdtdmNlZmI2TXNRMXVLZkFCQW9JQkFGZXhOZkFjSGF5dWxsQnZkeEhDMmN5aTIxVzYKczlSOXN5aVUrK2wzRkdMY0FzVk14RkFPcHlBejZIaTFHVjVieHV1OWVWVUZkZVNJL1ZoelNSa0xmOGErTjl2WApMS05OdjB1Q3NvcGE3Nlk1bkZHRHkvTGlUY3hNTzF1TEVxeUtXM3hHMVZjQXBHd2pHTGdPV3dOVm9Ld2JXVjg4ClM5V1d2blRpdmxLL2dWYW1iOVo3dHMvQ21oQ3NHb0xjVnlYV0twS0gvV0dpbTFVUjdrYW1yNGNDdmQvTWdTNkkKd2RRYndKNzBrNnRQMGw1REJ1aThtYVhMOVp4R0N0anF2Y1RxRWtHK3lDVDVjU3RTTnhvNTBtL25pbWxvVmFYKwpoZ01WQkU3K3lqLzNDTkttRkZJdlRsQ1Q2cW8yaXFkU3ZCM0twaDJPY3BOMVZodHlsdVFXNVBzUnZJOD0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K

  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.2
    certSANs:
      - talos-control-pi.fritz.box
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
        apiVersion: pod-security.admission.config.k8s.io/v1alpha1
        defaults:
          audit: restricted
          audit-version: latest
          enforce: baseline
          enforce-version: latest
          warn: restricted
          warn-version: latest
        exemptions:
          namespaces:
            - kube-system
          runtimeClasses: []
          usernames: []
        kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.2
  proxy:
    image: registry.k8s.io/kube-proxy:v1.31.2
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.2
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    # The `ca` is the root certificate authority of the PKI.
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQU1lWEtLdVMvdUs0YTJwUk5IV0hQRWd3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TkRFeU1Ea3lNVEF4TURCYUZ3MHpOREV5TURjeU1UQXhNREJhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRNUx0NUJHQXZWCkQ2ZldXdm9UckRVMU80UENqNk5XUUdhMU1GME51RnpnT0xzaUVNWGR4a21tYW94dzFDYlZBbTVIbjZ2NkdHVmcKSlc1NnRmQWxVcmd5bzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRktQZmJBU09lMmg2CkptQTY4Vmg3ZmMzRkpEaFJNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUM2U01mS2VuTFhYSm45SnpORWVSbm8KemVScGZyRDZRbmw3Sk9nYzRxNEZrUUlnVHB6R1hUcmZtTmVEbDc2ekVRelN3b1VLaElVQ1plUVQ5UTBCVzFlNwpFZ0k9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUpMdEpFZ2xGRUY4UHJoREJZdFh1M3RjTVUrYnhMNUFMbVMySzZpZGhJaHhvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFT1M3ZVFSZ0wxUStuMWxyNkU2dzFOVHVEd28ralZrQm10VEJkRGJoYzREaTdJaERGM2NaSgpwbXFNY05RbTFRSnVSNStyK2hobFlDVnVlclh3SlZLNE1nPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  extraManifests: []
  inlineManifests: []
